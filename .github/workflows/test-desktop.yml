name: Test Desktop
on: [push]
jobs:
  test:
    runs-on: macos-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Install Docker
        run: |
          brew install --cask docker
          open /Applications/Docker.app
          # Wait for Docker to start
          for i in {1..40}; do
            if docker system info > /dev/null 2>&1; then
              echo "Docker started"
              break
            fi
            echo "Waiting for Docker..."
            sleep 3
          done
          docker info
